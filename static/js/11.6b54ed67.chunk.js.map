{"version":3,"sources":["components/SearchInput.js","pages/Terms/LangFilter.js","pages/Terms/TagsFilter.js","components/FormModal.js","pages/Terms/NewTermModal.js","pages/Terms/Terms.js","hooks/useRefresh.js","hooks/useAsyncTask.js","hooks/index.js","selectors.js","../node_modules/reactstrap/es/InputGroupText.js","../node_modules/reactstrap/es/InputGroup.js","../node_modules/reactstrap/es/InputGroupAddon.js","components/TagsInput.js","components/Autosuggest.js","components/LangDropdown.js","components/FormFields.js","components/FormButtons.js","../node_modules/reactstrap/es/PaginationItem.js","../node_modules/reactstrap/es/PaginationLink.js","../node_modules/reactstrap/es/Pagination.js","../node_modules/ramda/es/internal/_curry2.js","../node_modules/ramda/es/internal/_isNumber.js","../node_modules/ramda/es/range.js","components/Pagination.js","../node_modules/reactstrap/es/Table.js"],"names":["SearchInput","useSearchParams","params","replaceParam","searchString","get","InputGroup","Input","type","placeholder","value","onChange","e","target","InputGroupAddon","addonType","Button","color","className","LangFilter","replaceParams","lang","LangDropdown","set","delete","label","withAny","labelKey","parseTags","str","split","map","s","a","length","uid","filter","TagsFilter","tags","TagsInput","t","join","stringifyTags","FormModal","header","id","fields","data","submit","isOpen","toggle","handleResult","initialValues","onSubmit","async","values","actions","result","setSubmitting","props","handleSubmit","inputs","renderFields","Modal","ModalHeader","ModalBody","Form","ModalFooter","size","onClick","formikProps","NewTermModal","navigate","useNavigate","useState","setIsOpen","useSaga","api","create","onResult","pathname","norefresh","Fragment","text","TermRow","term","key","to","style","display","minWidth","maxWidth","tag","date","created_at","fromNow","createdBy","makeSearchParams","query","onlyTags","Terms","task","useFetch","list","items","total","limit","page","rows","pending","colSpan","Loading","index","Row","Col","xl","Card","CardHeader","width","marginLeft","active","CardBody","Table","responsive","hover","scope","CardFooter","Pagination","REFRESH_EVENT","useRefresh","onRefresh","useEffect","listener","window","addEventListener","removeEventListener","initialState","started","error","start","abort","abortController","reducer","state","action","Error","useAsyncTask","func","delay","deps","useReducer","dispatch","AbortController","delayPromise","args","useAsyncRun","asyncTask","useCache","cache","useMappedState","selectors","useDispatch","setCache","undefined","newValue","useToken","token","setValue","subscribe","fn","noop","store","useContext","StoreContext","callArgs","runSaga","call","dispatchEvent","CustomEvent","useCurrentUser","currentUser","useLocation","location","useReplace","replace","push","search","qs","stringify","parseParams","identity","URLSearchParams","toString","name","makeParams","range","route","matchRoute","routeParams","createSelector","common","cacheState","isLoggedIn","currentLocation","router","propTypes","string","cssModule","object","InputGroupText","Tag","attributes","classes","createElement","defaultProps","oneOf","isRequired","children","node","CustomTagsInput","suggestions","setSuggestions","fetchAllTags","readOnly","classNames","allTags","renderInput","addTag","getSuggestionValue","renderSuggestion","inputProps","method","preventDefault","onSuggestionSelected","suggestion","onSuggestionsClearRequested","onSuggestionsFetchRequested","escapedValue","trim","regex","RegExp","some","t2","test","getSuggestions","tagObjects","includes","defaultTheme","container","position","input","height","fontWeight","inputFocused","outline","inputOpen","borderBottomLeftRadius","borderBottomRightRadius","suggestionsContainer","suggestionsContainerOpen","top","border","backgroundColor","zIndex","suggestionsList","margin","padding","listStyleType","cursor","suggestionHighlighted","CustomAutosuggest","theme","langs","LangItem","concat","k","caret","FieldLabel","field","md","FieldFeedback","touched","errors","help","SimpleField","handleChange","handleBlur","isTouched","_","isNil","onBlur","valid","row","xs","LangField","setFieldValue","val","MultiLangField","fieldInputs","fieldId","SubmitButton","buttonProps","dirty","isSubmitting","disabled","ResetButton","handleReset","bool","next","previous","first","last","defaultAriaLabel","defaultCaret","ariaLabel","Array","isArray","href","listClassName","listTag","_classNames","ListTag","listClasses","_curry2","f2","b","arguments","_isPlaceholder","_curry1","_b","_a","_isNumber","x","Object","prototype","from","TypeError","n","ListPagination","pageCount","Math","ceil","go","warning","prev","useNav","totalBadge","Badge","itemCount","min","firstPage","max","buttons","R","p","idx","bordered","borderless","striped","dark","oneOfType","responsiveTag","innerRef","ResponsiveTag","table","ref","responsiveClassName"],"mappings":"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","file":"static/js/11.6b54ed67.chunk.js","sourcesContent":["import React from 'react';\nimport { InputGroup, InputGroupAddon, Input, Button } from 'reactstrap';\nimport { useSearchParams } from 'hooks';\n\nconst SearchInput = () => {\n  const { params, replaceParam } = useSearchParams();\n  const paramKey = 'searchString';\n  const searchString = params.get(paramKey) || '';\n\n  const handleChange = e => replaceParam(paramKey, e.target.value);\n\n  return (\n    <InputGroup>\n      <Input type=\"text\" placeholder=\"Search by text\" value={searchString} onChange={handleChange} />\n      <InputGroupAddon addonType=\"append\">\n        <Button type=\"button\" color=\"primary\">\n          <i className=\"fa fa-search\" />\n        </Button>\n      </InputGroupAddon>\n    </InputGroup>\n  );\n};\n\nexport default SearchInput;\n","import React from 'react';\nimport { useSearchParams } from 'hooks';\nimport LangDropdown from 'components/LangDropdown';\n\nconst LangFilter = () => {\n  const { params, replaceParams } = useSearchParams();\n  const lang = params.get('lang') || 'any';\n  const handleChange = lang => {\n    if (!lang || lang === 'any') {\n      params.delete('lang');\n    } else {\n      params.set('lang', lang);\n    }\n    replaceParams(params);\n  };\n  return <LangDropdown value={lang} onChange={handleChange} label=\"Language: \" withAny />;\n};\n\nexport default LangFilter;\n","import React from 'react';\nimport { useSearchParams } from 'hooks';\nimport TagsInput from 'components/TagsInput';\n\nconst labelKey = 'text@en';\n\nexport function parseTags(str) {\n  return (str || '')\n    .split(',')\n    .map(s => {\n      const a = s.split('.');\n      if (a.length !== 2) {\n        return undefined;\n      }\n      return {\n        uid: a[0],\n        [labelKey]: a[1],\n      };\n    })\n    .filter(s => !!s);\n}\n\nfunction stringifyTags(tags) {\n  return tags.map(t => `${t.uid}.${t[labelKey]}`).join(',');\n}\n\nconst TagsFilter = () => {\n  const { params, replaceParam } = useSearchParams();\n  const tags = parseTags(params.get('tags'));\n  const handleChange = tags => {\n    const s = stringifyTags(tags);\n    replaceParam('tags', s);\n  };\n  return <TagsInput tags={tags} onChange={handleChange} />;\n};\n\nexport default TagsFilter;\n","import React from 'react';\nimport { Form, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Formik } from 'formik';\nimport { renderFields } from './FormFields';\nimport { SubmitButton } from './FormButtons';\n\n// TODO extract base form to reuse in FormCard and FormModal\nconst FormModal = ({ className, header, id, fields, data, submit, isOpen, toggle, handleResult }) => {\n  const onSubmit = async (values, actions) => {\n    const result = await submit({ id, data: values });\n    actions.setSubmitting(false);\n    if (handleResult) {\n      handleResult(result);\n    }\n  };\n\n  return (\n    <Formik initialValues={data} onSubmit={onSubmit}>\n      {props => {\n        const { handleSubmit } = props;\n\n        const inputs = renderFields(fields, props);\n\n        return (\n          <Modal className={className} isOpen={isOpen} toggle={toggle}>\n            <ModalHeader>{header}</ModalHeader>\n            <ModalBody>\n              <Form className={className} onSubmit={handleSubmit}>\n                {inputs}\n              </Form>\n            </ModalBody>\n            <ModalFooter>\n              <Button color=\"secondary\" size=\"sm\" onClick={toggle}>\n                Cancel\n              </Button>\n              <span> </span>\n              <SubmitButton formikProps={props} />\n            </ModalFooter>\n          </Modal>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default FormModal;\n","import React, { useState } from 'react';\nimport { Button } from 'reactstrap';\nimport FormModal from 'components/FormModal';\nimport { useNavigate, useSaga } from 'hooks';\nimport * as api from 'api';\n\nconst fields = [\n  {\n    id: 'lang',\n    type: 'lang',\n  },\n  {\n    id: 'text',\n  },\n  {\n    id: 'transcript',\n    label: 'Transcription',\n    type: 'multilang',\n  },\n];\n\nconst NewTermModal = () => {\n  const navigate = useNavigate();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onResult = result => {\n    navigate({ pathname: `/terms/${result.uid}` });\n  };\n\n  const submit = useSaga(api.term.create, { onResult, norefresh: true });\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  const header = 'New Term';\n\n  const data = {\n    lang: 'en',\n    text: '',\n  };\n\n  return (\n    <React.Fragment>\n      <Button onClick={toggle}>New Term</Button>\n      <FormModal isOpen={isOpen} toggle={toggle} header={header} fields={fields} data={data} submit={submit} />\n    </React.Fragment>\n  );\n};\n\nexport default NewTermModal;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Card, CardBody, CardFooter, CardHeader, Col, Row, Table } from 'reactstrap';\nimport Moment from 'react-moment';\nimport * as api from 'api';\nimport { useFetch, useSearchParams } from 'hooks';\nimport Loading from 'components/Loading';\nimport Pagination from 'components/Pagination';\nimport SearchInput from 'components/SearchInput';\nimport TagsInput from 'components/TagsInput';\nimport LangFilter from './LangFilter';\nimport TagsFilter, { parseTags } from './TagsFilter';\nimport NewTermModal from './NewTermModal';\nimport { createdBy } from 'utils';\n\nconst TermRow = ({ term }) => {\n  return (\n    <tr key={term.uid}>\n      <td>{term.lang}</td>\n      <td>\n        <Link to={`/terms/${term.uid}`}>{term.text || term.uid}</Link>\n      </td>\n      <td>\n        <div style={{ display: 'inline-block', minWidth: 100, maxWidth: 300 }}>\n          <TagsInput tags={term.tag} />\n        </div>\n      </td>\n      <td>\n        <Moment date={term.created_at} fromNow />\n      </td>\n      <td>\n        <span>{createdBy(term)}</span>\n      </td>\n    </tr>\n  );\n};\n\nconst makeSearchParams = query => {\n  return {\n    lang: query.get('lang'),\n    searchString: query.get('searchString'),\n    tags: parseTags(query.get('tags')),\n    onlyTags: query.get('onlyTags') === 'true',\n  };\n};\n\n// TODO show previous result\n\nexport const Terms = () => {\n  const task = useFetch(api.term.list, makeSearchParams, 500);\n  const { params, replaceParam } = useSearchParams(makeSearchParams);\n  const result = task.result || {};\n  const { items = [], total = 0, limit = api.DEFAULT_LIMIT, page = 1 } = result;\n\n  const toggleOnlyTags = () => {\n    if (params.onlyTags) {\n      replaceParam('onlyTags', '');\n    } else {\n      replaceParam('onlyTags', 'true');\n    }\n  };\n\n  const rows = task.pending ? (\n    <tr>\n      <td colSpan={4}>\n        <Loading />\n      </td>\n    </tr>\n  ) : (\n    items.map((term, index) => <TermRow key={index} term={term} />)\n  );\n\n  return (\n    <div className=\"animated fadeIn\">\n      <Row>\n        <Col xl={12}>\n          <Card>\n            <CardHeader>\n              <i className=\"fa fa-align-justify\" />\n              <div style={{ display: 'inline-block', width: 200 }}>\n                <LangFilter />\n              </div>\n              <div style={{ display: 'inline-block', width: 250 }}>\n                <SearchInput />\n              </div>\n              <div style={{ display: 'inline-block', width: 500, marginLeft: 50 }}>\n                <TagsFilter />\n              </div>\n              <div style={{ display: 'inline-block', marginLeft: 10 }}>\n                <Button color=\"info\" active={params.onlyTags} onClick={toggleOnlyTags}>\n                  Only Tags\n                </Button>\n              </div>\n              <div style={{ display: 'inline-block', marginLeft: 50 }}>\n                <NewTermModal />\n              </div>\n            </CardHeader>\n            <CardBody>\n              <Table responsive hover>\n                <thead>\n                  <tr>\n                    <th scope=\"col\">lang</th>\n                    <th scope=\"col\">text</th>\n                    <th scope=\"col\">tags</th>\n                    <th scope=\"col\">created at</th>\n                    <th scope=\"col\">created by</th>\n                  </tr>\n                </thead>\n                <tbody>{rows}</tbody>\n              </Table>\n            </CardBody>\n            <CardFooter className=\"flex-center\">\n              <Pagination page={page} total={total} limit={limit} />\n            </CardFooter>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default Terms;\n","import { useEffect } from 'react';\n\nexport const REFRESH_EVENT = 'refresh';\n\nexport function useRefresh(onRefresh) {\n  useEffect(() => {\n    const listener = () => {\n      onRefresh();\n    };\n\n    window.addEventListener(REFRESH_EVENT, listener);\n\n    return () => {\n      window.removeEventListener(REFRESH_EVENT, listener);\n    };\n  }, [onRefresh]);\n}\n","// borrowed from https://github.com/dai-shi/react-hooks-async/blob/master/src/use-async-task.js\nimport { useEffect, useReducer } from 'react';\nimport { REFRESH_EVENT } from './useRefresh';\nimport { delay as delayPromise } from 'utils';\n\nconst initialState = {\n  started: false,\n  pending: true,\n  error: null,\n  result: null,\n  start: null,\n  abort: null,\n  abortController: null,\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'init':\n      return initialState;\n    case 'ready':\n      return {\n        ...state,\n        start: action.start,\n        abort: action.abort,\n      };\n    case 'start':\n      return {\n        ...state,\n        started: true,\n        abortController: action.abortController,\n      };\n    case 'result':\n      return {\n        ...state,\n        started: false,\n        pending: false,\n        result: action.result,\n        abortController: null,\n      };\n    case 'error':\n      return {\n        ...state,\n        started: false,\n        pending: false,\n        error: action.error,\n        abortController: null,\n      };\n    case 'abort':\n      return {\n        ...state,\n        started: false,\n        pending: false,\n        abortController: null,\n      };\n    default:\n      throw new Error(`unexpected action type: ${action.type}`);\n  }\n};\n\nexport const useAsyncTask = (func, { delay = 0 } = {}, deps = []) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const start = async (...args) => {\n    if (state.started) {\n      return;\n    }\n    const abortController = new AbortController();\n    dispatch({ type: 'start', abortController });\n    try {\n      await delayPromise(delay, abortController);\n      const result = await func(abortController, ...args);\n      dispatch({ type: 'result', result });\n      return { result };\n    } catch (error) {\n      dispatch({ type: 'error', error });\n      return { error };\n    }\n  };\n\n  const abort = () => {\n    if (state.abortController) {\n      state.abortController.abort();\n      dispatch({ type: 'abort' });\n    }\n  };\n\n  useEffect(() => {\n    dispatch({ type: 'ready', start, abort });\n    return () => {\n      dispatch({ type: 'init' });\n    };\n  }, deps); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return state;\n};\n\nexport function useAsyncRun(asyncTask) {\n  useEffect(() => {\n    const start = () => {\n      if (asyncTask && asyncTask.start) {\n        asyncTask.start();\n      }\n    };\n\n    const abort = () => {\n      if (asyncTask && asyncTask.abort) {\n        asyncTask && asyncTask.abort();\n      }\n    };\n\n    const listener = () => {\n      start();\n    };\n\n    window.addEventListener(REFRESH_EVENT, listener);\n    start();\n\n    return () => {\n      window.removeEventListener(REFRESH_EVENT, listener);\n      abort();\n    };\n  }, [asyncTask && asyncTask.start, asyncTask && asyncTask.abort]);\n}\n","import { noop, identity } from 'lodash';\nimport { useContext, useEffect, useState } from 'react';\nimport { StoreContext, useDispatch, useMappedState } from 'redux-react-hook';\nimport { push, replace } from 'connected-react-router';\nimport qs from 'query-string';\nimport { call } from 'redux-saga/effects';\n\nimport * as api from 'api';\nimport { setCache } from 'actions';\nimport * as selectors from 'selectors';\nimport token from 'token';\nimport { matchRoute } from 'routes';\nimport { useRefresh, REFRESH_EVENT } from './useRefresh';\nimport { useAsyncTask, useAsyncRun } from './useAsyncTask';\n\nexport { useRefresh };\n\nexport function useCache(key) {\n  const { cache } = useMappedState(selectors.cacheState);\n  const dispatch = useDispatch();\n  useRefresh(() => dispatch(setCache({ key, value: undefined })));\n  return newValue => {\n    if (newValue !== undefined) {\n      dispatch(setCache({ key, value: newValue }));\n      return newValue;\n    }\n    return cache.get(key);\n  };\n}\n\nexport function useForceUpdate() {\n  const [it, setIt] = useState(false);\n  return () => setIt(!it);\n}\n\nexport function useToken() {\n  const [value, setValue] = useState(token.value);\n  useEffect(() => token.subscribe(setValue), []);\n  return value;\n}\n\nexport function useStore() {\n  return useContext(StoreContext);\n}\n\nexport function useSaga(fn, { args = [], norefresh = false, onResult = noop } = {}) {\n  const store = useStore();\n  return (...callArgs) => {\n    return store.runSaga(\n      function*(...args) {\n        const result = yield call(fn, ...args);\n\n        if (onResult) {\n          onResult(result);\n        }\n\n        if (!norefresh) {\n          window.dispatchEvent(new CustomEvent(REFRESH_EVENT));\n        }\n\n        return result;\n      },\n      ...args,\n      ...callArgs,\n    );\n  };\n}\n\nexport function useCurrentUser() {\n  const { currentUser } = useMappedState(selectors.currentUser);\n  return currentUser || {};\n}\n\nexport function useLocation() {\n  const { location } = useMappedState(selectors.currentLocation);\n  return location;\n}\n\nexport function useNavigate(useReplace) {\n  const dispatch = useDispatch();\n  return ({ pathname, params }) => {\n    const action = (useReplace ? replace : push)({\n      pathname,\n      search: params ? qs.stringify(params) : undefined,\n    });\n    dispatch(action);\n  };\n}\n\nexport function useSearchParams(parseParams = identity) {\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const params = new URLSearchParams(location.search);\n  const replaceParams = params => {\n    dispatch(\n      replace({\n        pathname: location.pathname,\n        search: params.toString(),\n      }),\n    );\n  };\n  return {\n    location,\n    dispatch,\n    params: parseParams(params),\n    replaceParams,\n    replaceParam(name, value) {\n      if (value) {\n        params.set(name, value);\n      } else {\n        params.delete(name);\n      }\n      replaceParams(params);\n    },\n  };\n}\n\nexport const useFetch = (fn, makeParams = () => ({}), delay = 0) => {\n  const location = useLocation();\n\n  const task = useAsyncTask(\n    async (abortController, args = {}) => {\n      const range = api.paginationParams(location.search);\n      const params = makeParams(new URLSearchParams(location.search));\n      const route = matchRoute(location);\n      const routeParams = route ? route.params : {};\n      const data = await fn({ abortController, ...args, ...range, ...params, ...routeParams });\n      return { ...data, ...range };\n    },\n    { delay },\n    [location],\n  );\n\n  useAsyncRun(task);\n\n  return task;\n};\n","import Immutable from 'immutable';\nimport { createSelector } from 'reselect';\nimport { identity } from 'ramda';\n\nexport function composeSelector(query, makeResult = identity) {\n  const selectors = Immutable.OrderedMap(query).reduce((res, selector) => res.concat(selector), []);\n  return createSelector(\n    selectors,\n    (...results) => makeResult(Object.assign({}, ...results)),\n  );\n}\n\nexport const currentUser = createSelector(\n  state => state.common.currentUser,\n  currentUser => ({ currentUser }),\n);\n\nexport const cacheState = createSelector(\n  state => state.common.cache,\n  cache => ({ cache }),\n);\n\nexport const isLoggedIn = createSelector(\n  state => !!state.common.currentUser,\n  isLoggedIn => ({ isLoggedIn }),\n);\n\nexport const currentLocation = createSelector(\n  state => state.router.location || window.location,\n  location => ({ location }),\n);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'span'\n};\n\nvar InputGroupText = function InputGroupText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'input-group-text'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nInputGroupText.propTypes = propTypes;\nInputGroupText.defaultProps = defaultProps;\nexport default InputGroupText;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  size: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar InputGroup = function InputGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      size = props.size,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\", \"size\"]);\n\n  var classes = mapToCssModules(classNames(className, 'input-group', size ? \"input-group-\" + size : null), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nInputGroup.propTypes = propTypes;\nInputGroup.defaultProps = defaultProps;\nexport default InputGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nimport InputGroupText from './InputGroupText';\nvar propTypes = {\n  tag: tagPropType,\n  addonType: PropTypes.oneOf(['prepend', 'append']).isRequired,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar InputGroupAddon = function InputGroupAddon(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      addonType = props.addonType,\n      children = props.children,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\", \"addonType\", \"children\"]);\n\n  var classes = mapToCssModules(classNames(className, 'input-group-' + addonType), cssModule); // Convenience to assist with transition\n\n  if (typeof children === 'string') {\n    return React.createElement(Tag, _extends({}, attributes, {\n      className: classes\n    }), React.createElement(InputGroupText, {\n      children: children\n    }));\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    children: children\n  }));\n};\n\nInputGroupAddon.propTypes = propTypes;\nInputGroupAddon.defaultProps = defaultProps;\nexport default InputGroupAddon;","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport TagsInput from 'react-tagsinput';\nimport Autosuggest from './Autosuggest';\nimport { useCache, useFetch } from 'hooks';\nimport * as api from 'api';\nimport { delay } from 'utils';\nimport 'scss/react-tagsinput.scss';\n\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nconst labelKey = 'text';\n\nconst CustomTagsInput = ({ tags = [], onChange }) => {\n  const [suggestions, setSuggestions] = useState([]);\n  const fetchAllTags = ({ abortController }) => api.tag.list({ abortController, page: 1, limit: 100 });\n\n  const cache = useCache('tags');\n  const task = useFetch(async (...args) => {\n    if (cache()) {\n      return cache();\n    }\n    await delay(100);\n    const result = await fetchAllTags(...args);\n    cache(result);\n    return result;\n  });\n\n  const readOnly = !onChange;\n  const placeholder = readOnly ? '' : 'Add a tag';\n  const className = classNames('react-tagsinput', {\n    'react-tagsinput--readonly': readOnly,\n  });\n\n  const allTags = (task.result || {}).items || [];\n\n  function getSuggestions(value) {\n    const escapedValue = escapeRegexCharacters((value || '').trim());\n\n    if (!escapedValue) {\n      return [];\n    }\n\n    const regex = new RegExp(`^${escapedValue}`, 'i');\n    return allTags.filter(t => !tags.some(t2 => t2[labelKey] === t[labelKey])).filter(t => regex.test(t[labelKey]));\n  }\n\n  const renderAutocomplete = ({ addTag, ...props }) => {\n    const handleChange = (e, { newValue, method }) => {\n      if (method === 'enter') {\n        e.preventDefault();\n      } else {\n        props.onChange(e);\n      }\n    };\n\n    return (\n      <Autosuggest\n        suggestions={suggestions}\n        getSuggestionValue={t => t[labelKey] || t.uid}\n        renderSuggestion={t => <span>{t[labelKey] || t.uid}</span>}\n        inputProps={{ ...props, onChange: handleChange, readOnly, placeholder }}\n        onSuggestionSelected={(e, { suggestion }) => {\n          addTag(suggestion[labelKey]);\n        }}\n        onSuggestionsClearRequested={() => {\n          setSuggestions([]);\n        }}\n        onSuggestionsFetchRequested={({ value }) => {\n          setSuggestions(getSuggestions(value));\n        }}\n      />\n    );\n  };\n\n  const handleChange = tags => {\n    const tagObjects = allTags.filter(t => tags.includes(t[labelKey]));\n    onChange(tagObjects);\n  };\n\n  const value = tags.map(t => t[labelKey]);\n\n  return <TagsInput className={className} renderInput={renderAutocomplete} value={value} onChange={handleChange} />;\n};\n\nexport default CustomTagsInput;\n","import React from 'react';\nimport Autosuggest from 'react-autosuggest';\n\nconst defaultTheme = {\n  container: {\n    display: 'inline-block',\n    position: 'relative',\n  },\n  input: {\n    width: 240,\n    height: 30,\n    //fontFamily: 'Helvetica, sans-serif',\n    fontWeight: 300,\n    //fontSize: 16,\n  },\n  inputFocused: {\n    outline: 'none',\n  },\n  inputOpen: {\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n  suggestionsContainer: {\n    display: 'none',\n  },\n  suggestionsContainerOpen: {\n    display: 'block',\n    position: 'absolute',\n    top: 32,\n    width: 280,\n    border: '1px solid #aaa',\n    backgroundColor: '#fff',\n    //fontFamily: 'Helvetica, sans-serif',\n    fontWeight: 300,\n    //fontSize: 16,\n    borderBottomLeftRadius: 4,\n    borderBottomRightRadius: 4,\n    zIndex: 100,\n  },\n  suggestionsList: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none',\n  },\n  suggestion: {\n    cursor: 'pointer',\n    padding: '10px 20px',\n  },\n  suggestionHighlighted: {\n    backgroundColor: '#ddd',\n  },\n};\n\nconst CustomAutosuggest = ({ theme, ...props }) => <Autosuggest theme={theme || defaultTheme} {...props} />;\n\nexport default CustomAutosuggest;\n","import React, { useState } from 'react';\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nexport const langs = ['en', 'ru'];\n\nconst LangItem = ({ lang, onChange }) => {\n  const handleClick = () => {\n    onChange(lang);\n  };\n  return <DropdownItem onClick={handleClick}>{lang}</DropdownItem>;\n};\n\nconst LangDropdown = ({ value, onChange, withAny, label = '' }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n  const items = [withAny ? 'any' : undefined]\n    .filter(t => !!t)\n    .concat(langs)\n    .map((t, k) => <LangItem key={k} lang={t} onChange={onChange} />);\n  return (\n    <ButtonDropdown isOpen={isOpen} toggle={toggle}>\n      <DropdownToggle caret>{`${label}${value}`}</DropdownToggle>\n      <DropdownMenu>{items}</DropdownMenu>\n    </ButtonDropdown>\n  );\n};\n\nexport default LangDropdown;\n","import _ from 'lodash';\nimport React from 'react';\nimport { Col, FormFeedback, FormGroup, FormText, Input } from 'reactstrap';\nimport LangDropdown, { langs } from './LangDropdown';\n\nconst FieldLabel = ({ field }) => {\n  const label = field.label || field.id;\n  return (\n    <Col md=\"3\">\n      <span>{label}</span>\n    </Col>\n  );\n};\n\nconst FieldFeedback = ({ field, formikProps }) => {\n  const { touched, errors } = formikProps;\n  const isTouched = touched[field.id];\n  const error = isTouched && errors[field.id];\n\n  return (\n    <React.Fragment>\n      {field.help ? <FormText color=\"muted\">{field.help}</FormText> : null}\n      {error ? <FormFeedback>{error}</FormFeedback> : null}\n    </React.Fragment>\n  );\n};\n\nconst SimpleField = ({ field, formikProps }) => {\n  const { values, touched, errors, handleChange, handleBlur } = formikProps;\n\n  const isTouched = touched[field.id];\n  const error = isTouched && errors[field.id];\n  const value = values[field.id];\n  const inputProps = {\n    type: field.type || 'text',\n    id: field.id,\n    name: field.id,\n    placeholder: field.placeholder,\n    value: _.isNil(value) ? '' : value,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    valid: isTouched ? !error : undefined,\n  };\n\n  return (\n    <FormGroup className=\"flex-center\" row>\n      <FieldLabel field={field} />\n      <Col xs=\"12\" md=\"9\">\n        <Input {...inputProps} />\n        <FieldFeedback field={field} formikProps={formikProps} />\n      </Col>\n    </FormGroup>\n  );\n};\n\nconst LangField = ({ field, formikProps }) => {\n  const { values, setFieldValue } = formikProps;\n\n  const value = values[field.id];\n\n  const handleChange = val => {\n    setFieldValue(field.id, val);\n  };\n\n  return (\n    <FormGroup className=\"flex-center\" row>\n      <FieldLabel field={field} />\n      <Col xs=\"12\" md=\"9\">\n        <LangDropdown value={value} onChange={handleChange} />\n        <FieldFeedback field={field} formikProps={formikProps} />\n      </Col>\n    </FormGroup>\n  );\n};\n\nconst MultiLangField = ({ field, formikProps }) => {\n  const { values, handleChange, handleBlur } = formikProps;\n\n  const label = field.label || field.id;\n  const fieldInputs = langs.map(lang => {\n    const fieldId = `${field.id}@${lang}`;\n    const inputProps = {\n      type: 'text',\n      id: fieldId,\n      name: fieldId,\n      value: values[fieldId] || '',\n      onChange: handleChange,\n      onBlur: handleBlur,\n    };\n    return (\n      <FormGroup className=\"flex-center\" row key={lang}>\n        <Col xs=\"1\">\n          <span>{lang}</span>\n        </Col>\n        <Col xs=\"11\">\n          <Input {...inputProps} />\n        </Col>\n      </FormGroup>\n    );\n  });\n\n  return (\n    <React.Fragment>\n      <FormGroup className=\"flex-center\" row>\n        <Col xs=\"12\">\n          <div className=\"hr-heading\">\n            <span>{label}</span>\n            <span className=\"hr\" />\n          </div>\n        </Col>\n      </FormGroup>\n      {fieldInputs}\n    </React.Fragment>\n  );\n};\n\nexport function renderFields(fields, formikProps) {\n  return fields.map(field => {\n    switch (field.type) {\n      case 'lang':\n        return <LangField key={field.id} field={field} formikProps={formikProps} />;\n      case 'multilang':\n        return <MultiLangField key={field.id} field={field} formikProps={formikProps} />;\n      default:\n        return <SimpleField key={field.id} field={field} formikProps={formikProps} />;\n    }\n  });\n}\n","import React from 'react';\nimport { Button } from 'reactstrap';\n\nexport const SubmitButton = ({ formikProps, label = 'Save', ...buttonProps }) => {\n  const { dirty, isSubmitting, handleSubmit } = formikProps;\n\n  return (\n    <Button\n      color=\"primary\"\n      size=\"sm\"\n      {...buttonProps}\n      type=\"submit\"\n      disabled={!dirty || isSubmitting}\n      onClick={handleSubmit}\n    >\n      <span>{label}</span>\n    </Button>\n  );\n};\n\nexport const ResetButton = ({ formikProps, label = 'Reset', ...buttonProps }) => {\n  const { dirty, isSubmitting, handleReset } = formikProps;\n\n  return (\n    <Button\n      color=\"danger\"\n      size=\"sm\"\n      {...buttonProps}\n      type=\"reset\"\n      disabled={!dirty || isSubmitting}\n      onClick={handleReset}\n    >\n      <span>{label}</span>\n    </Button>\n  );\n};\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  active: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  disabled: PropTypes.bool,\n  tag: tagPropType\n};\nvar defaultProps = {\n  tag: 'li'\n};\n\nvar PaginationItem = function PaginationItem(props) {\n  var active = props.active,\n      className = props.className,\n      cssModule = props.cssModule,\n      disabled = props.disabled,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"active\", \"className\", \"cssModule\", \"disabled\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'page-item', {\n    active: active,\n    disabled: disabled\n  }), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nPaginationItem.propTypes = propTypes;\nPaginationItem.defaultProps = defaultProps;\nexport default PaginationItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  'aria-label': PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  next: PropTypes.bool,\n  previous: PropTypes.bool,\n  first: PropTypes.bool,\n  last: PropTypes.bool,\n  tag: tagPropType\n};\nvar defaultProps = {\n  tag: 'a'\n};\n\nvar PaginationLink = function PaginationLink(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      next = props.next,\n      previous = props.previous,\n      first = props.first,\n      last = props.last,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"next\", \"previous\", \"first\", \"last\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'page-link'), cssModule);\n  var defaultAriaLabel;\n\n  if (previous) {\n    defaultAriaLabel = 'Previous';\n  } else if (next) {\n    defaultAriaLabel = 'Next';\n  } else if (first) {\n    defaultAriaLabel = 'First';\n  } else if (last) {\n    defaultAriaLabel = 'Last';\n  }\n\n  var ariaLabel = props['aria-label'] || defaultAriaLabel;\n  var defaultCaret;\n\n  if (previous) {\n    defaultCaret = \"\\u2039\";\n  } else if (next) {\n    defaultCaret = \"\\u203A\";\n  } else if (first) {\n    defaultCaret = \"\\xAB\";\n  } else if (last) {\n    defaultCaret = \"\\xBB\";\n  }\n\n  var children = props.children;\n\n  if (children && Array.isArray(children) && children.length === 0) {\n    children = null;\n  }\n\n  if (!attributes.href && Tag === 'a') {\n    Tag = 'button';\n  }\n\n  if (previous || next || first || last) {\n    children = [React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      key: \"caret\"\n    }, children || defaultCaret), React.createElement(\"span\", {\n      className: \"sr-only\",\n      key: \"sr\"\n    }, ariaLabel)];\n  }\n\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    \"aria-label\": ariaLabel\n  }), children);\n};\n\nPaginationLink.propTypes = propTypes;\nPaginationLink.defaultProps = defaultProps;\nexport default PaginationLink;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  listClassName: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  tag: tagPropType,\n  listTag: tagPropType,\n  'aria-label': PropTypes.string\n};\nvar defaultProps = {\n  tag: 'nav',\n  listTag: 'ul',\n  'aria-label': 'pagination'\n};\n\nvar Pagination = function Pagination(props) {\n  var _classNames;\n\n  var className = props.className,\n      listClassName = props.listClassName,\n      cssModule = props.cssModule,\n      size = props.size,\n      Tag = props.tag,\n      ListTag = props.listTag,\n      label = props['aria-label'],\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"listClassName\", \"cssModule\", \"size\", \"tag\", \"listTag\", \"aria-label\"]);\n\n  var classes = mapToCssModules(classNames(className), cssModule);\n  var listClasses = mapToCssModules(classNames(listClassName, 'pagination', (_classNames = {}, _classNames[\"pagination-\" + size] = !!size, _classNames)), cssModule);\n  return React.createElement(Tag, {\n    className: classes,\n    \"aria-label\": label\n  }, React.createElement(ListTag, _extends({}, attributes, {\n    className: listClasses\n  })));\n};\n\nPagination.propTypes = propTypes;\nPagination.defaultProps = defaultProps;\nexport default Pagination;","import _curry1 from './_curry1.js';\nimport _isPlaceholder from './_isPlaceholder.js';\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}","export default function _isNumber(x) {\n  return Object.prototype.toString.call(x) === '[object Number]';\n}","import _curry2 from './internal/_curry2.js';\nimport _isNumber from './internal/_isNumber.js';\n/**\n * Returns a list of numbers from `from` (inclusive) to `to` (exclusive).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> Number -> [Number]\n * @param {Number} from The first number in the list.\n * @param {Number} to One more than the last number in the list.\n * @return {Array} The list of numbers in the set `[a, b)`.\n * @example\n *\n *      R.range(1, 5);    //=> [1, 2, 3, 4]\n *      R.range(50, 53);  //=> [50, 51, 52]\n */\n\nvar range =\n/*#__PURE__*/\n_curry2(function range(from, to) {\n  if (!(_isNumber(from) && _isNumber(to))) {\n    throw new TypeError('Both arguments to range must be numbers');\n  }\n\n  var result = [];\n  var n = from;\n\n  while (n < to) {\n    result.push(n);\n    n += 1;\n  }\n\n  return result;\n});\n\nexport default range;","import React from 'react';\nimport warning from 'warning';\nimport { useDispatch } from 'redux-react-hook';\nimport { Badge, Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport * as R from 'ramda';\nimport { push } from 'connected-react-router';\nimport { useLocation } from 'hooks';\n\nfunction useNav({ page, pageCount }) {\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  const go = page => {\n    warning(page >= 1 && page <= pageCount, 'invalid page');\n\n    const params = new URLSearchParams(location.search);\n    if (page === 1) {\n      params.delete('page');\n    } else {\n      params.set('page', page);\n    }\n\n    dispatch(\n      push({\n        pathname: location.pathname,\n        search: params.toString(),\n      }),\n    );\n  };\n\n  const prev = () => {\n    if (page - 1 >= 1) {\n      return go(page - 1);\n    }\n  };\n\n  const next = () => {\n    if (page + 1 <= pageCount) {\n      return go(page + 1);\n    }\n  };\n\n  return { prev, next, go };\n}\n\nconst ListPagination = ({ page, total, limit }) => {\n  const pageCount = Math.ceil(total / limit);\n  const { prev, next, go } = useNav({ page, total, limit, pageCount });\n\n  const totalBadge = (\n    <Badge color=\"info\" className=\"ml-2\">\n      Total: {total}\n    </Badge>\n  );\n\n  if (pageCount <= 1) {\n    return totalBadge;\n  }\n\n  const itemCount = Math.min(5, pageCount);\n  const firstPage = Math.max(1, page - itemCount + 1);\n  const items = R.range(firstPage, firstPage + itemCount);\n\n  const buttons = items.map((p, idx) => (\n    <PaginationItem key={idx} active={p === page}>\n      <PaginationLink tag=\"button\" onClick={() => go(p)}>\n        {p}\n      </PaginationLink>\n    </PaginationItem>\n  ));\n\n  return (\n    <div className=\"flex-center\">\n      <Pagination>\n        <PaginationItem key={'prev'}>\n          <PaginationLink previous tag=\"button\" disabled={page === 1} onClick={prev} />\n        </PaginationItem>\n        {buttons}\n        <PaginationItem key={'next'}>\n          <PaginationLink next tag=\"button\" disabled={page === pageCount} onClick={next} />\n        </PaginationItem>\n      </Pagination>\n      {totalBadge}\n    </div>\n  );\n};\n\nexport default ListPagination;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"sourceRoot":""}